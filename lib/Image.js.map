{"version":3,"sources":["../src/Image.js"],"names":["GLImage","console","warn","Error","onload","_src","prototype","src","localUri","then"],"mappings":";;;;;kBAEwBA,O;;AAFxB;;AAEe,SAASA,OAAT,GAAmB;AAChCC,UAAQC,IAAR,CAAa,4CAAb;AACA,MAAI,EAAE,gBAAgBF,OAAlB,CAAJ,EACE,MAAM,IAAIG,KAAJ,CACJ,6DADI,CAAN;AAGF,OAAKC,MAAL,GAAc,IAAd;AACA,OAAKC,IAAL,GAAY,IAAZ;AACD;;AAEDL,QAAQM,SAAR,GAAoB;AAClB;AACA,MAAIC,GAAJ,GAAU;AACR,WAAO,KAAKF,IAAZ;AACD,GAJiB;AAKlB;AACA,MAAIE,GAAJ,CAAQA,GAAR,EAAa;AAAA;;AACX,QAAI,KAAKF,IAAL,KAAcE,GAAlB,EAAuB;AACvB,WAAO,KAAKC,QAAZ;AACA,SAAKH,IAAL,GAAYE,GAAZ;;AAEA,QAAIA,GAAJ,EAAS;AACP,8CAAUA,GAAV,EAAeE,IAAf,CAAoB,gBAAkB;AAAA,YAAfD,QAAe,QAAfA,QAAe;;AACpC,cAAKA,QAAL,GAAgBA,QAAhB;AACA,YAAI,MAAKJ,MAAT,EAAiB,MAAKA,MAAL;AAClB,OAHD;AAID;AACF;AAjBiB,CAApB","file":"Image.js","sourcesContent":["import { loadAsset } from \"webgltexture-loader-expo/lib/ExpoModuleTextureLoader\";\n\nexport default function GLImage() {\n  console.warn(\"Usage of gl-react-expo Image is deprecated\");\n  if (!(this instanceof GLImage))\n    throw new Error(\n      \"Failed to construct 'Image': Please use the 'new' operator.\"\n    );\n  this.onload = null;\n  this._src = null;\n}\n\nGLImage.prototype = {\n  //$FlowFixMe\n  get src() {\n    return this._src;\n  },\n  //$FlowFixMe\n  set src(src) {\n    if (this._src === src) return;\n    delete this.localUri;\n    this._src = src;\n\n    if (src) {\n      loadAsset(src).then(({ localUri }) => {\n        this.localUri = localUri;\n        if (this.onload) this.onload();\n      });\n    }\n  }\n};\n"]}